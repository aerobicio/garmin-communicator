box: wercker/nodejs
build:
  steps:
    - wercker/npm-install@0.9.3
    - script:
        name: Lint
        code: make lint
    - script:
        name: Spec
        code: make spec
    - script:
        name: Coverage
        code: |
          make convert_coverage
    - script:
        name: Build
        code: |
          make build
  after_steps:
    - script:
        name: Artifacts
        code: |
          cp garmin*.js $WERCKER_REPORT_ARTIFACTS_DIR/build
          cp -R coverage $WERCKER_REPORT_ARTIFACTS_DIR

