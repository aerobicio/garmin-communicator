box: wercker/nodejs
build:
  steps:
    - wercker/npm-install@0.9.3
    - script:
        name: Specs
        code: npm run spec
    - script:
        name: Coverage
        code: |
          which istanbul
          istanbul help
          npm run check-coverage
    - script:
        name: Build
        code: npm run build
  after-steps:
    - script:
        name: Save Artifacts
        code: |
          cp main*.js $WERCKER_REPORT_ARTIFACTS_DIR
          cp -R coverage $WERCKER_REPORT_ARTIFACTS_DIR
