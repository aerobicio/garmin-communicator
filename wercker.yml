box: wercker/nodejs
build:
  steps:
    - wercker/npm-install@0.9.3
    - script:
        name: Lint
        code: make lint
    - script:
        name: Spec
        code: make spec
    - script:
        name: Coverage
        code: |
          make coverage
    - script:
        name: Build
        code: |
          make build
  after-steps:
    - script:
        name: Save Artifacts
        code: |
          cp garmin*.js $WERCKER_REPORT_ARTIFACTS_DIR
          cp -R coverage $WERCKER_REPORT_ARTIFACTS_DIR
    - wercker/campfire-notify@0.1.1:
        token: $CAMPFIRE_TOKEN
        room-id: 541059
        subdomain: aerobicio
        on: failed
